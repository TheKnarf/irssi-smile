use strict;
use vars qw($VERSION %IRSSI);

use Irssi;
$VERSION = '1.00';
%IRSSI = (
    authors     => 'Frank Lyder Bredland',
    contact     => 'fl@nyggen.com',
    name        => 'Irssi Smile',
    description => 'This script allows ' .
                   'you to write smilies ',
    license     => 'Public Domain',
);


sub event_input_msg {
  my $subname = "event_input_msg";
  my ($server, $msg, $nick, $address, $target) = @_;

  my $sig = Irssi::signal_get_emitted();
  my $witem;

  $msg = replace($msg);

  Irssi::signal_continue($server, $msg, $nick, $address, $target);
}

sub replace {
	my ($msg) = @_;

	$msg =~ s/\:smile\:/😄/g;
	$msg =~ s/:smiley:/😃/g;
	$msg =~ s/:grinning:/😀/g;
	$msg =~ s/:blush:/😊/g;
	$msg =~ s/:wink:/😉/g;
	$msg =~ s/:heart_eyes:/😍/g;
	$msg =~ s/:kissing_heart:/😘/g;
	$msg =~ s/:kissing_closed_eyes:/😚/g;
	$msg =~ s/:kissing:/😗/g;
	$msg =~ s/:kissing_smiling_eyes:/😙/g;
	$msg =~ s/:stuck_out_tongue_winking_eye:/😜/g;
	$msg =~ s/:stuck_out_tongue_closed_eyes:/😝/g;
	$msg =~ s/:stuck_out_tongue:/😛/g;
	$msg =~ s/:flushed:/😳/g;
	$msg =~ s/:grin:/😁/g;
	$msg =~ s/:pensive:/😔/g;
	$msg =~ s/:relieved:/😌/g;
	$msg =~ s/:unamused:/😒/g;
	$msg =~ s/:disappointed:/😞/g;
	$msg =~ s/:persevere:/😣/g;
	$msg =~ s/:cry:/😢/g;
	$msg =~ s/:joy:/😂/g;
	$msg =~ s/:sob:/😭/g;
	$msg =~ s/:sleepy:/😪/g;
	$msg =~ s/:disappointed_relieved:/😥/g;
	$msg =~ s/:cold_sweat:/😰/g;
	$msg =~ s/:sweat_smile:/😅/g;
	$msg =~ s/:sweat:/😓/g;
	$msg =~ s/:weary:/😩/g;
	$msg =~ s/:tired_face:/😫/g;
	$msg =~ s/:fearful:/😨/g;
	$msg =~ s/:scream:/😱/g;
	$msg =~ s/:angry:/😠/g;
	$msg =~ s/:rage:/😡/g;
	$msg =~ s/:triumph:/😤/g;
	$msg =~ s/:confounded:/😖/g;
	$msg =~ s/:laughing:/😆/g;
	$msg =~ s/:satisfied:/😆/g;
	$msg =~ s/:yum:/😋/g;
	$msg =~ s/:mask:/😷/g;
	$msg =~ s/:sunglasses:/😎/g;
	$msg =~ s/:sleeping:/😴/g;
	$msg =~ s/:dizzy_face:/😵/g;
	$msg =~ s/:astonished:/😲/g;
	$msg =~ s/:worried:/😟/g;
	$msg =~ s/:frowning:/😦/g;
	$msg =~ s/:anguished:/😧/g;
	$msg =~ s/:smiling_imp:/😈/g;
	$msg =~ s/:imp:/👿/g;
	$msg =~ s/:open_mouth:/😮/g;
	$msg =~ s/:grimacing:/😬/g;
	$msg =~ s/:neutral_face:/😐/g;
	$msg =~ s/:confused:/😕/g;
	$msg =~ s/:hushed:/😯/g;
	$msg =~ s/:no_mouth:/😶/g;
	$msg =~ s/:innocent:/😇/g;
	$msg =~ s/:smirk:/😏/g;
	$msg =~ s/:expressionless:/😑/g;
	$msg =~ s/:man_with_gua_pi_mao:/👲/g;
	$msg =~ s/:man_with_turban:/👳/g;
	$msg =~ s/:cop:/👮/g;
	$msg =~ s/:construction_worker:/👷/g;
	$msg =~ s/:guardsman:/💂/g;
	$msg =~ s/:baby:/👶/g;
	$msg =~ s/:boy:/👦/g;
	$msg =~ s/:girl:/👧/g;
	$msg =~ s/:man:/👨/g;
	$msg =~ s/:woman:/👩/g;
	$msg =~ s/:older_man:/👴/g;
	$msg =~ s/:older_woman:/👵/g;
	$msg =~ s/:person_with_blond_hair:/👱/g;
	$msg =~ s/:angel:/👼/g;
	$msg =~ s/:princess:/👸/g;
	$msg =~ s/:smiley_cat:/😺/g;
	$msg =~ s/:smile_cat:/😸/g;
	$msg =~ s/:heart_eyes_cat:/😻/g;
	$msg =~ s/:kissing_cat:/😽/g;
	$msg =~ s/:smirk_cat:/😼/g;
	$msg =~ s/:scream_cat:/🙀/g;
	$msg =~ s/:crying_cat_face:/😿/g;
	$msg =~ s/:joy_cat:/😹/g;
	$msg =~ s/:pouting_cat:/😾/g;
	$msg =~ s/:japanese_ogre:/👹/g;
	$msg =~ s/:japanese_goblin:/👺/g;
	$msg =~ s/:see_no_evil:/🙈/g;
	$msg =~ s/:hear_no_evil:/🙉/g;
	$msg =~ s/:speak_no_evil:/🙊/g;
	$msg =~ s/:skull:/💀/g;
	$msg =~ s/:alien:/👽/g;
	$msg =~ s/:hankey:/💩/g;
	$msg =~ s/:poop:/💩/g;
	$msg =~ s/:shit:/💩/g;
	$msg =~ s/:fire:/🔥/g;
	$msg =~ s/:sparkles:/✨/g;
	$msg =~ s/:star2:/🌟/g;
	$msg =~ s/:dizzy:/💫/g;
	$msg =~ s/:boom:/💥/g;
	$msg =~ s/:collision:/💥/g;
	$msg =~ s/:anger:/💢/g;
	$msg =~ s/:sweat_drops:/💦/g;
	$msg =~ s/:droplet:/💧/g;
	$msg =~ s/:zzz:/💤/g;
	$msg =~ s/:dash:/💨/g;
	$msg =~ s/:ear:/👂/g;
	$msg =~ s/:eyes:/👀/g;
	$msg =~ s/:nose:/👃/g;
	$msg =~ s/:tongue:/👅/g;
	$msg =~ s/:lips:/👄/g;
	$msg =~ s/:+1:/👍/g;
	$msg =~ s/:thumbsup:/👍/g;
	$msg =~ s/:-1:/👎/g;
	$msg =~ s/:thumbsdown:/👎/g;
	$msg =~ s/:ok_hand:/👌/g;
	$msg =~ s/:facepunch:/👊/g;
	$msg =~ s/:punch:/👊/g;
	$msg =~ s/:fist:/✊/g;
	$msg =~ s/:wave:/👋/g;
	$msg =~ s/:hand:/✋/g;
	$msg =~ s/:raised_hand:/✋/g;
	$msg =~ s/:open_hands:/👐/g;
	$msg =~ s/:point_up_2:/👆/g;
	$msg =~ s/:point_down:/👇/g;
	$msg =~ s/:point_right:/👉/g;
	$msg =~ s/:point_left:/👈/g;
	$msg =~ s/:raised_hands:/🙌/g;
	$msg =~ s/:pray:/🙏/g;
	$msg =~ s/:clap:/👏/g;
	$msg =~ s/:muscle:/💪/g;
	$msg =~ s/:walking:/🚶/g;
	$msg =~ s/:runner:/🏃/g;
	$msg =~ s/:running:/🏃/g;
	$msg =~ s/:dancer:/💃/g;
	$msg =~ s/:couple:/👫/g;
	$msg =~ s/:family:/👪/g;
	$msg =~ s/:two_men_holding_hands:/👬/g;
	$msg =~ s/:two_women_holding_hands:/👭/g;
	$msg =~ s/:couplekiss:/💏/g;
	$msg =~ s/:couple_with_heart:/💑/g;
	$msg =~ s/:dancers:/👯/g;
	$msg =~ s/:ok_woman:/🙆/g;
	$msg =~ s/:no_good:/🙅/g;
	$msg =~ s/:information_desk_person:/💁/g;
	$msg =~ s/:raising_hand:/🙋/g;
	$msg =~ s/:massage:/💆/g;
	$msg =~ s/:haircut:/💇/g;
	$msg =~ s/:nail_care:/💅/g;
	$msg =~ s/:bride_with_veil:/👰/g;
	$msg =~ s/:person_with_pouting_face:/🙎/g;
	$msg =~ s/:person_frowning:/🙍/g;
	$msg =~ s/:bow:/🙇/g;
	$msg =~ s/:tophat:/🎩/g;
	$msg =~ s/:crown:/👑/g;
	$msg =~ s/:womans_hat:/👒/g;
	$msg =~ s/:athletic_shoe:/👟/g;
	$msg =~ s/:mans_shoe:/👞/g;
	$msg =~ s/:shoe:/👞/g;
	$msg =~ s/:sandal:/👡/g;
	$msg =~ s/:high_heel:/👠/g;
	$msg =~ s/:boot:/👢/g;
	$msg =~ s/:shirt:/👕/g;
	$msg =~ s/:tshirt:/👕/g;
	$msg =~ s/:necktie:/👔/g;
	$msg =~ s/:womans_clothes:/👚/g;
	$msg =~ s/:dress:/👗/g;
	$msg =~ s/:running_shirt_with_sash:/🎽/g;
	$msg =~ s/:jeans:/👖/g;
	$msg =~ s/:kimono:/👘/g;
	$msg =~ s/:bikini:/👙/g;
	$msg =~ s/:briefcase:/💼/g;
	$msg =~ s/:handbag:/👜/g;
	$msg =~ s/:pouch:/👝/g;
	$msg =~ s/:purse:/👛/g;
	$msg =~ s/:eyeglasses:/👓/g;
	$msg =~ s/:ribbon:/🎀/g;
	$msg =~ s/:closed_umbrella:/🌂/g;
	$msg =~ s/:lipstick:/💄/g;
	$msg =~ s/:yellow_heart:/💛/g;
	$msg =~ s/:blue_heart:/💙/g;
	$msg =~ s/:purple_heart:/💜/g;
	$msg =~ s/:green_heart:/💚/g;
	$msg =~ s/:broken_heart:/💔/g;
	$msg =~ s/:heartpulse:/💗/g;
	$msg =~ s/:heartbeat:/💓/g;
	$msg =~ s/:two_hearts:/💕/g;
	$msg =~ s/:sparkling_heart:/💖/g;
	$msg =~ s/:revolving_hearts:/💞/g;
	$msg =~ s/:cupid:/💘/g;
	$msg =~ s/:love_letter:/💌/g;
	$msg =~ s/:kiss:/💋/g;
	$msg =~ s/:ring:/💍/g;
	$msg =~ s/:gem:/💎/g;
	$msg =~ s/:bust_in_silhouette:/👤/g;
	$msg =~ s/:busts_in_silhouette:/👥/g;
	$msg =~ s/:speech_balloon:/💬/g;
	$msg =~ s/:footprints:/👣/g;
	$msg =~ s/:thought_balloon:/💭/g;
	$msg =~ s/:dog:/🐶/g;
	$msg =~ s/:wolf:/🐺/g;
	$msg =~ s/:cat:/🐱/g;
	$msg =~ s/:mouse:/🐭/g;
	$msg =~ s/:hamster:/🐹/g;
	$msg =~ s/:rabbit:/🐰/g;
	$msg =~ s/:frog:/🐸/g;
	$msg =~ s/:tiger:/🐯/g;
	$msg =~ s/:koala:/🐨/g;
	$msg =~ s/:bear:/🐻/g;
	$msg =~ s/:pig:/🐷/g;
	$msg =~ s/:pig_nose:/🐽/g;
	$msg =~ s/:cow:/🐮/g;
	$msg =~ s/:boar:/🐗/g;
	$msg =~ s/:monkey_face:/🐵/g;
	$msg =~ s/:monkey:/🐒/g;
	$msg =~ s/:horse:/🐴/g;
	$msg =~ s/:sheep:/🐑/g;
	$msg =~ s/:elephant:/🐘/g;
	$msg =~ s/:panda_face:/🐼/g;
	$msg =~ s/:penguin:/🐧/g;
	$msg =~ s/:bird:/🐦/g;
	$msg =~ s/:baby_chick:/🐤/g;
	$msg =~ s/:hatched_chick:/🐥/g;
	$msg =~ s/:hatching_chick:/🐣/g;
	$msg =~ s/:chicken:/🐔/g;
	$msg =~ s/:snake:/🐍/g;
	$msg =~ s/:turtle:/🐢/g;
	$msg =~ s/:bug:/🐛/g;
	$msg =~ s/:bee:/🐝/g;
	$msg =~ s/:honeybee:/🐝/g;
	$msg =~ s/:ant:/🐜/g;
	$msg =~ s/:beetle:/🐞/g;
	$msg =~ s/:snail:/🐌/g;
	$msg =~ s/:octopus:/🐙/g;
	$msg =~ s/:shell:/🐚/g;
	$msg =~ s/:tropical_fish:/🐠/g;
	$msg =~ s/:fish:/🐟/g;
	$msg =~ s/:dolphin:/🐬/g;
	$msg =~ s/:flipper:/🐬/g;
	$msg =~ s/:whale:/🐳/g;
	$msg =~ s/:whale2:/🐋/g;
	$msg =~ s/:cow2:/🐄/g;
	$msg =~ s/:ram:/🐏/g;
	$msg =~ s/:rat:/🐀/g;
	$msg =~ s/:water_buffalo:/🐃/g;
	$msg =~ s/:tiger2:/🐅/g;
	$msg =~ s/:rabbit2:/🐇/g;
	$msg =~ s/:dragon:/🐉/g;
	$msg =~ s/:racehorse:/🐎/g;
	$msg =~ s/:goat:/🐐/g;
	$msg =~ s/:rooster:/🐓/g;
	$msg =~ s/:dog2:/🐕/g;
	$msg =~ s/:pig2:/🐖/g;
	$msg =~ s/:mouse2:/🐁/g;
	$msg =~ s/:ox:/🐂/g;
	$msg =~ s/:dragon_face:/🐲/g;
	$msg =~ s/:blowfish:/🐡/g;
	$msg =~ s/:crocodile:/🐊/g;
	$msg =~ s/:camel:/🐫/g;
	$msg =~ s/:dromedary_camel:/🐪/g;
	$msg =~ s/:leopard:/🐆/g;
	$msg =~ s/:cat2:/🐈/g;
	$msg =~ s/:poodle:/🐩/g;
	$msg =~ s/:feet:/🐾/g;
	$msg =~ s/:paw_prints:/🐾/g;
	$msg =~ s/:bouquet:/💐/g;
	$msg =~ s/:cherry_blossom:/🌸/g;
	$msg =~ s/:tulip:/🌷/g;
	$msg =~ s/:four_leaf_clover:/🍀/g;
	$msg =~ s/:rose:/🌹/g;
	$msg =~ s/:sunflower:/🌻/g;
	$msg =~ s/:hibiscus:/🌺/g;
	$msg =~ s/:maple_leaf:/🍁/g;
	$msg =~ s/:leaves:/🍃/g;
	$msg =~ s/:fallen_leaf:/🍂/g;
	$msg =~ s/:herb:/🌿/g;
	$msg =~ s/:ear_of_rice:/🌾/g;
	$msg =~ s/:mushroom:/🍄/g;
	$msg =~ s/:cactus:/🌵/g;
	$msg =~ s/:palm_tree:/🌴/g;
	$msg =~ s/:evergreen_tree:/🌲/g;
	$msg =~ s/:deciduous_tree:/🌳/g;
	$msg =~ s/:chestnut:/🌰/g;
	$msg =~ s/:seedling:/🌱/g;
	$msg =~ s/:blossom:/🌼/g;
	$msg =~ s/:globe_with_meridians:/🌐/g;
	$msg =~ s/:sun_with_face:/🌞/g;
	$msg =~ s/:full_moon_with_face:/🌝/g;
	$msg =~ s/:new_moon_with_face:/🌚/g;
	$msg =~ s/:new_moon:/🌑/g;
	$msg =~ s/:waxing_crescent_moon:/🌒/g;
	$msg =~ s/:first_quarter_moon:/🌓/g;
	$msg =~ s/:moon:/🌔/g;
	$msg =~ s/:waxing_gibbous_moon:/🌔/g;
	$msg =~ s/:full_moon:/🌕/g;
	$msg =~ s/:waning_gibbous_moon:/🌖/g;
	$msg =~ s/:last_quarter_moon:/🌗/g;
	$msg =~ s/:waning_crescent_moon:/🌘/g;
	$msg =~ s/:last_quarter_moon_with_face:/🌜/g;
	$msg =~ s/:first_quarter_moon_with_face:/🌛/g;
	$msg =~ s/:crescent_moon:/🌙/g;
	$msg =~ s/:earth_africa:/🌍/g;
	$msg =~ s/:earth_americas:/🌎/g;
	$msg =~ s/:earth_asia:/🌏/g;
	$msg =~ s/:volcano:/🌋/g;
	$msg =~ s/:milky_way:/🌌/g;
	$msg =~ s/:stars:/🌠/g;
	$msg =~ s/:star:/⭐/g;
	$msg =~ s/:partly_sunny:/⛅/g;
	$msg =~ s/:zap:/⚡/g;
	$msg =~ s/:umbrella:/☔/g;
	$msg =~ s/:snowman:/⛄/g;
	$msg =~ s/:cyclone:/🌀/g;
	$msg =~ s/:foggy:/🌁/g;
	$msg =~ s/:rainbow:/🌈/g;
	$msg =~ s/:ocean:/🌊/g;
	$msg =~ s/:bamboo:/🎍/g;
	$msg =~ s/:gift_heart:/💝/g;
	$msg =~ s/:dolls:/🎎/g;
	$msg =~ s/:school_satchel:/🎒/g;
	$msg =~ s/:mortar_board:/🎓/g;
	$msg =~ s/:flags:/🎏/g;
	$msg =~ s/:fireworks:/🎆/g;
	$msg =~ s/:sparkler:/🎇/g;
	$msg =~ s/:wind_chime:/🎐/g;
	$msg =~ s/:rice_scene:/🎑/g;
	$msg =~ s/:jack_o_lantern:/🎃/g;
	$msg =~ s/:ghost:/👻/g;
	$msg =~ s/:santa:/🎅/g;
	$msg =~ s/:christmas_tree:/🎄/g;
	$msg =~ s/:gift:/🎁/g;
	$msg =~ s/:tanabata_tree:/🎋/g;
	$msg =~ s/:tada:/🎉/g;
	$msg =~ s/:confetti_ball:/🎊/g;
	$msg =~ s/:balloon:/🎈/g;
	$msg =~ s/:crossed_flags:/🎌/g;
	$msg =~ s/:crystal_ball:/🔮/g;
	$msg =~ s/:movie_camera:/🎥/g;
	$msg =~ s/:camera:/📷/g;
	$msg =~ s/:video_camera:/📹/g;
	$msg =~ s/:vhs:/📼/g;
	$msg =~ s/:cd:/💿/g;
	$msg =~ s/:dvd:/📀/g;
	$msg =~ s/:minidisc:/💽/g;
	$msg =~ s/:floppy_disk:/💾/g;
	$msg =~ s/:computer:/💻/g;
	$msg =~ s/:iphone:/📱/g;
	$msg =~ s/:telephone_receiver:/📞/g;
	$msg =~ s/:pager:/📟/g;
	$msg =~ s/:fax:/📠/g;
	$msg =~ s/:satellite:/📡/g;
	$msg =~ s/:tv:/📺/g;
	$msg =~ s/:radio:/📻/g;
	$msg =~ s/:loud_sound:/🔊/g;
	$msg =~ s/:sound:/🔉/g;
	$msg =~ s/:speaker:/🔈/g;
	$msg =~ s/:mute:/🔇/g;
	$msg =~ s/:bell:/🔔/g;
	$msg =~ s/:no_bell:/🔕/g;
	$msg =~ s/:loudspeaker:/📢/g;
	$msg =~ s/:mega:/📣/g;
	$msg =~ s/:hourglass_flowing_sand:/⏳/g;
	$msg =~ s/:hourglass:/⌛/g;
	$msg =~ s/:alarm_clock:/⏰/g;
	$msg =~ s/:watch:/⌚/g;
	$msg =~ s/:unlock:/🔓/g;
	$msg =~ s/:lock:/🔒/g;
	$msg =~ s/:lock_with_ink_pen:/🔏/g;
	$msg =~ s/:closed_lock_with_key:/🔐/g;
	$msg =~ s/:key:/🔑/g;
	$msg =~ s/:mag_right:/🔎/g;
	$msg =~ s/:bulb:/💡/g;
	$msg =~ s/:flashlight:/🔦/g;
	$msg =~ s/:high_brightness:/🔆/g;
	$msg =~ s/:low_brightness:/🔅/g;
	$msg =~ s/:electric_plug:/🔌/g;
	$msg =~ s/:battery:/🔋/g;
	$msg =~ s/:mag:/🔍/g;
	$msg =~ s/:bathtub:/🛁/g;
	$msg =~ s/:bath:/🛀/g;
	$msg =~ s/:shower:/🚿/g;
	$msg =~ s/:toilet:/🚽/g;
	$msg =~ s/:wrench:/🔧/g;
	$msg =~ s/:nut_and_bolt:/🔩/g;
	$msg =~ s/:hammer:/🔨/g;
	$msg =~ s/:door:/🚪/g;
	$msg =~ s/:smoking:/🚬/g;
	$msg =~ s/:bomb:/💣/g;
	$msg =~ s/:gun:/🔫/g;
	$msg =~ s/:hocho:/🔪/g;
	$msg =~ s/:knife:/🔪/g;
	$msg =~ s/:pill:/💊/g;
	$msg =~ s/:syringe:/💉/g;
	$msg =~ s/:moneybag:/💰/g;
	$msg =~ s/:yen:/💴/g;
	$msg =~ s/:dollar:/💵/g;
	$msg =~ s/:pound:/💷/g;
	$msg =~ s/:euro:/💶/g;
	$msg =~ s/:credit_card:/💳/g;
	$msg =~ s/:money_with_wings:/💸/g;
	$msg =~ s/:calling:/📲/g;
	$msg =~ s/:e-mail:/📧/g;
	$msg =~ s/:inbox_tray:/📥/g;
	$msg =~ s/:outbox_tray:/📤/g;
	$msg =~ s/:envelope_with_arrow:/📩/g;
	$msg =~ s/:incoming_envelope:/📨/g;
	$msg =~ s/:postal_horn:/📯/g;
	$msg =~ s/:mailbox:/📫/g;
	$msg =~ s/:mailbox_closed:/📪/g;
	$msg =~ s/:mailbox_with_mail:/📬/g;
	$msg =~ s/:mailbox_with_no_mail:/📭/g;
	$msg =~ s/:postbox:/📮/g;
	$msg =~ s/:package:/📦/g;
	$msg =~ s/:memo:/📝/g;
	$msg =~ s/:pencil:/📝/g;
	$msg =~ s/:page_facing_up:/📄/g;
	$msg =~ s/:page_with_curl:/📃/g;
	$msg =~ s/:bookmark_tabs:/📑/g;
	$msg =~ s/:bar_chart:/📊/g;
	$msg =~ s/:chart_with_upwards_trend:/📈/g;
	$msg =~ s/:chart_with_downwards_trend:/📉/g;
	$msg =~ s/:scroll:/📜/g;
	$msg =~ s/:clipboard:/📋/g;
	$msg =~ s/:date:/📅/g;
	$msg =~ s/:calendar:/📆/g;
	$msg =~ s/:card_index:/📇/g;
	$msg =~ s/:file_folder:/📁/g;
	$msg =~ s/:open_file_folder:/📂/g;
	$msg =~ s/:pushpin:/📌/g;
	$msg =~ s/:paperclip:/📎/g;
	$msg =~ s/:straight_ruler:/📏/g;
	$msg =~ s/:triangular_ruler:/📐/g;
	$msg =~ s/:closed_book:/📕/g;
	$msg =~ s/:green_book:/📗/g;
	$msg =~ s/:blue_book:/📘/g;
	$msg =~ s/:orange_book:/📙/g;
	$msg =~ s/:notebook:/📓/g;
	$msg =~ s/:notebook_with_decorative_cover:/📔/g;
	$msg =~ s/:ledger:/📒/g;
	$msg =~ s/:books:/📚/g;
	$msg =~ s/:book:/📖/g;
	$msg =~ s/:open_book:/📖/g;
	$msg =~ s/:bookmark:/🔖/g;
	$msg =~ s/:name_badge:/📛/g;
	$msg =~ s/:microscope:/🔬/g;
	$msg =~ s/:telescope:/🔭/g;
	$msg =~ s/:newspaper:/📰/g;
	$msg =~ s/:art:/🎨/g;
	$msg =~ s/:clapper:/🎬/g;
	$msg =~ s/:microphone:/🎤/g;
	$msg =~ s/:headphones:/🎧/g;
	$msg =~ s/:musical_score:/🎼/g;
	$msg =~ s/:musical_note:/🎵/g;
	$msg =~ s/:notes:/🎶/g;
	$msg =~ s/:musical_keyboard:/🎹/g;
	$msg =~ s/:violin:/🎻/g;
	$msg =~ s/:trumpet:/🎺/g;
	$msg =~ s/:saxophone:/🎷/g;
	$msg =~ s/:guitar:/🎸/g;
	$msg =~ s/:space_invader:/👾/g;
	$msg =~ s/:video_game:/🎮/g;
	$msg =~ s/:black_joker:/🃏/g;
	$msg =~ s/:flower_playing_cards:/🎴/g;
	$msg =~ s/:mahjong:/🀄/g;
	$msg =~ s/:game_die:/🎲/g;
	$msg =~ s/:dart:/🎯/g;
	$msg =~ s/:football:/🏈/g;
	$msg =~ s/:basketball:/🏀/g;
	$msg =~ s/:soccer:/⚽/g;
	$msg =~ s/:tennis:/🎾/g;
	$msg =~ s/:8ball:/🎱/g;
	$msg =~ s/:rugby_football:/🏉/g;
	$msg =~ s/:bowling:/🎳/g;
	$msg =~ s/:golf:/⛳/g;
	$msg =~ s/:mountain_bicyclist:/🚵/g;
	$msg =~ s/:bicyclist:/🚴/g;
	$msg =~ s/:checkered_flag:/🏁/g;
	$msg =~ s/:horse_racing:/🏇/g;
	$msg =~ s/:trophy:/🏆/g;
	$msg =~ s/:ski:/🎿/g;
	$msg =~ s/:snowboarder:/🏂/g;
	$msg =~ s/:swimmer:/🏊/g;
	$msg =~ s/:surfer:/🏄/g;
	$msg =~ s/:fishing_pole_and_fish:/🎣/g;
	$msg =~ s/:coffee:/☕/g;
	$msg =~ s/:tea:/🍵/g;
	$msg =~ s/:sake:/🍶/g;
	$msg =~ s/:baby_bottle:/🍼/g;
	$msg =~ s/:beer:/🍺/g;
	$msg =~ s/:beers:/🍻/g;
	$msg =~ s/:cocktail:/🍸/g;
	$msg =~ s/:tropical_drink:/🍹/g;
	$msg =~ s/:wine_glass:/🍷/g;
	$msg =~ s/:fork_and_knife:/🍴/g;
	$msg =~ s/:pizza:/🍕/g;
	$msg =~ s/:hamburger:/🍔/g;
	$msg =~ s/:fries:/🍟/g;
	$msg =~ s/:poultry_leg:/🍗/g;
	$msg =~ s/:meat_on_bone:/🍖/g;
	$msg =~ s/:spaghetti:/🍝/g;
	$msg =~ s/:curry:/🍛/g;
	$msg =~ s/:fried_shrimp:/🍤/g;
	$msg =~ s/:bento:/🍱/g;
	$msg =~ s/:sushi:/🍣/g;
	$msg =~ s/:fish_cake:/🍥/g;
	$msg =~ s/:rice_ball:/🍙/g;
	$msg =~ s/:rice_cracker:/🍘/g;
	$msg =~ s/:rice:/🍚/g;
	$msg =~ s/:ramen:/🍜/g;
	$msg =~ s/:stew:/🍲/g;
	$msg =~ s/:oden:/🍢/g;
	$msg =~ s/:dango:/🍡/g;
	$msg =~ s/:egg:/🍳/g;
	$msg =~ s/:bread:/🍞/g;
	$msg =~ s/:doughnut:/🍩/g;
	$msg =~ s/:custard:/🍮/g;
	$msg =~ s/:icecream:/🍦/g;
	$msg =~ s/:ice_cream:/🍨/g;
	$msg =~ s/:shaved_ice:/🍧/g;
	$msg =~ s/:birthday:/🎂/g;
	$msg =~ s/:cake:/🍰/g;
	$msg =~ s/:cookie:/🍪/g;
	$msg =~ s/:chocolate_bar:/🍫/g;
	$msg =~ s/:candy:/🍬/g;
	$msg =~ s/:lollipop:/🍭/g;
	$msg =~ s/:honey_pot:/🍯/g;
	$msg =~ s/:apple:/🍎/g;
	$msg =~ s/:green_apple:/🍏/g;
	$msg =~ s/:tangerine:/🍊/g;
	$msg =~ s/:lemon:/🍋/g;
	$msg =~ s/:cherries:/🍒/g;
	$msg =~ s/:grapes:/🍇/g;
	$msg =~ s/:watermelon:/🍉/g;
	$msg =~ s/:strawberry:/🍓/g;
	$msg =~ s/:peach:/🍑/g;
	$msg =~ s/:melon:/🍈/g;
	$msg =~ s/:banana:/🍌/g;
	$msg =~ s/:pear:/🍐/g;
	$msg =~ s/:pineapple:/🍍/g;
	$msg =~ s/:sweet_potato:/🍠/g;
	$msg =~ s/:eggplant:/🍆/g;
	$msg =~ s/:tomato:/🍅/g;
	$msg =~ s/:corn:/🌽/g;
	$msg =~ s/:house:/🏠/g;
	$msg =~ s/:house_with_garden:/🏡/g;
	$msg =~ s/:school:/🏫/g;
	$msg =~ s/:office:/🏢/g;
	$msg =~ s/:post_office:/🏣/g;
	$msg =~ s/:hospital:/🏥/g;
	$msg =~ s/:bank:/🏦/g;
	$msg =~ s/:convenience_store:/🏪/g;
	$msg =~ s/:love_hotel:/🏩/g;
	$msg =~ s/:hotel:/🏨/g;
	$msg =~ s/:wedding:/💒/g;
	$msg =~ s/:church:/⛪/g;
	$msg =~ s/:department_store:/🏬/g;
	$msg =~ s/:european_post_office:/🏤/g;
	$msg =~ s/:city_sunrise:/🌇/g;
	$msg =~ s/:city_sunset:/🌆/g;
	$msg =~ s/:japanese_castle:/🏯/g;
	$msg =~ s/:european_castle:/🏰/g;
	$msg =~ s/:tent:/⛺/g;
	$msg =~ s/:factory:/🏭/g;
	$msg =~ s/:tokyo_tower:/🗼/g;
	$msg =~ s/:japan:/🗾/g;
	$msg =~ s/:mount_fuji:/🗻/g;
	$msg =~ s/:sunrise_over_mountains:/🌄/g;
	$msg =~ s/:sunrise:/🌅/g;
	$msg =~ s/:night_with_stars:/🌃/g;
	$msg =~ s/:statue_of_liberty:/🗽/g;
	$msg =~ s/:bridge_at_night:/🌉/g;
	$msg =~ s/:carousel_horse:/🎠/g;
	$msg =~ s/:ferris_wheel:/🎡/g;
	$msg =~ s/:fountain:/⛲/g;
	$msg =~ s/:roller_coaster:/🎢/g;
	$msg =~ s/:ship:/🚢/g;
	$msg =~ s/:boat:/⛵/g;
	$msg =~ s/:sailboat:/⛵/g;
	$msg =~ s/:speedboat:/🚤/g;
	$msg =~ s/:rowboat:/🚣/g;
	$msg =~ s/:anchor:/⚓/g;
	$msg =~ s/:rocket:/🚀/g;
	$msg =~ s/:airplane:/✈️/g;
	$msg =~ s/:seat:/💺/g;
	$msg =~ s/:helicopter:/🚁/g;
	$msg =~ s/:steam_locomotive:/🚂/g;
	$msg =~ s/:tram:/🚊/g;
	$msg =~ s/:station:/🚉/g;
	$msg =~ s/:mountain_railway:/🚞/g;
	$msg =~ s/:train2:/🚆/g;
	$msg =~ s/:bullettrain_side:/🚄/g;
	$msg =~ s/:bullettrain_front:/🚅/g;
	$msg =~ s/:light_rail:/🚈/g;
	$msg =~ s/:metro:/🚇/g;
	$msg =~ s/:monorail:/🚝/g;
	$msg =~ s/:train:/🚋/g;
	$msg =~ s/:railway_car:/🚃/g;
	$msg =~ s/:trolleybus:/🚎/g;
	$msg =~ s/:bus:/🚌/g;
	$msg =~ s/:oncoming_bus:/🚍/g;
	$msg =~ s/:blue_car:/🚙/g;
	$msg =~ s/:oncoming_automobile:/🚘/g;
	$msg =~ s/:car:/🚗/g;
	$msg =~ s/:red_car:/🚗/g;
	$msg =~ s/:taxi:/🚕/g;
	$msg =~ s/:oncoming_taxi:/🚖/g;
	$msg =~ s/:articulated_lorry:/🚛/g;
	$msg =~ s/:truck:/🚚/g;
	$msg =~ s/:rotating_light:/🚨/g;
	$msg =~ s/:police_car:/🚓/g;
	$msg =~ s/:oncoming_police_car:/🚔/g;
	$msg =~ s/:fire_engine:/🚒/g;
	$msg =~ s/:ambulance:/🚑/g;
	$msg =~ s/:minibus:/🚐/g;
	$msg =~ s/:bike:/🚲/g;
	$msg =~ s/:aerial_tramway:/🚡/g;
	$msg =~ s/:suspension_railway:/🚟/g;
	$msg =~ s/:mountain_cableway:/🚠/g;
	$msg =~ s/:tractor:/🚜/g;
	$msg =~ s/:barber:/💈/g;
	$msg =~ s/:busstop:/🚏/g;
	$msg =~ s/:ticket:/🎫/g;
	$msg =~ s/:vertical_traffic_light:/🚦/g;
	$msg =~ s/:traffic_light:/🚥/g;
	$msg =~ s/:construction:/🚧/g;
	$msg =~ s/:beginner:/🔰/g;
	$msg =~ s/:fuelpump:/⛽/g;
	$msg =~ s/:izakaya_lantern:/🏮/g;
	$msg =~ s/:lantern:/🏮/g;
	$msg =~ s/:slot_machine:/🎰/g;
	$msg =~ s/:moyai:/🗿/g;
	$msg =~ s/:circus_tent:/🎪/g;
	$msg =~ s/:performing_arts:/🎭/g;
	$msg =~ s/:round_pushpin:/📍/g;
	$msg =~ s/:triangular_flag_on_post:/🚩/g;
	$msg =~ s/:keycap_ten:/🔟/g;
	$msg =~ s/:1234:/🔢/g;
	$msg =~ s/:symbols:/🔣/g;
	$msg =~ s/:capital_abcd:/🔠/g;
	$msg =~ s/:abcd:/🔡/g;
	$msg =~ s/:abc:/🔤/g;
	$msg =~ s/:arrows_counterclockwise:/🔄/g;
	$msg =~ s/:arrow_up_small:/🔼/g;
	$msg =~ s/:arrow_down_small:/🔽/g;
	$msg =~ s/:rewind:/⏪/g;
	$msg =~ s/:fast_forward:/⏩/g;
	$msg =~ s/:arrow_double_up:/⏫/g;
	$msg =~ s/:arrow_double_down:/⏬/g;
	$msg =~ s/:ok:/🆗/g;
	$msg =~ s/:twisted_rightwards_arrows:/🔀/g;
	$msg =~ s/:repeat:/🔁/g;
	$msg =~ s/:repeat_one:/🔂/g;
	$msg =~ s/:new:/🆕/g;
	$msg =~ s/:up:/🆙/g;
	$msg =~ s/:cool:/🆒/g;
	$msg =~ s/:free:/🆓/g;
	$msg =~ s/:ng:/🆖/g;
	$msg =~ s/:signal_strength:/📶/g;
	$msg =~ s/:cinema:/🎦/g;
	$msg =~ s/:koko:/🈁/g;
	$msg =~ s/:u6307:/🈯/g;
	$msg =~ s/:u7a7a:/🈳/g;
	$msg =~ s/:u6e80:/🈵/g;
	$msg =~ s/:u5408:/🈴/g;
	$msg =~ s/:u7981:/🈲/g;
	$msg =~ s/:ideograph_advantage:/🉐/g;
	$msg =~ s/:u5272:/🈹/g;
	$msg =~ s/:u55b6:/🈺/g;
	$msg =~ s/:u6709:/🈶/g;
	$msg =~ s/:u7121:/🈚/g;
	$msg =~ s/:restroom:/🚻/g;
	$msg =~ s/:mens:/🚹/g;
	$msg =~ s/:womens:/🚺/g;
	$msg =~ s/:baby_symbol:/🚼/g;
	$msg =~ s/:wc:/🚾/g;
	$msg =~ s/:potable_water:/🚰/g;
	$msg =~ s/:put_litter_in_its_place:/🚮/g;
	$msg =~ s/:wheelchair:/♿/g;
	$msg =~ s/:no_smoking:/🚭/g;
	$msg =~ s/:u7533:/🈸/g;
	$msg =~ s/:passport_control:/🛂/g;
	$msg =~ s/:baggage_claim:/🛄/g;
	$msg =~ s/:left_luggage:/🛅/g;
	$msg =~ s/:customs:/🛃/g;
	$msg =~ s/:accept:/🉑/g;
	$msg =~ s/:cl:/🆑/g;
	$msg =~ s/:sos:/🆘/g;
	$msg =~ s/:id:/🆔/g;
	$msg =~ s/:no_entry_sign:/🚫/g;
	$msg =~ s/:underage:/🔞/g;
	$msg =~ s/:no_mobile_phones:/📵/g;
	$msg =~ s/:do_not_litter:/🚯/g;
	$msg =~ s/:non-potable_water:/🚱/g;
	$msg =~ s/:no_bicycles:/🚳/g;
	$msg =~ s/:no_pedestrians:/🚷/g;
	$msg =~ s/:children_crossing:/🚸/g;
	$msg =~ s/:no_entry:/⛔/g;
	$msg =~ s/:negative_squared_cross_mark:/❎/g;
	$msg =~ s/:white_check_mark:/✅/g;
	$msg =~ s/:heart_decoration:/💟/g;
	$msg =~ s/:vs:/🆚/g;
	$msg =~ s/:vibration_mode:/📳/g;
	$msg =~ s/:mobile_phone_off:/📴/g;
	$msg =~ s/:ab:/🆎/g;
	$msg =~ s/:diamond_shape_with_a_dot_inside:/💠/g;
	$msg =~ s/:loop:/➿/g;
	$msg =~ s/:aries:/♈/g;
	$msg =~ s/:taurus:/♉/g;
	$msg =~ s/:gemini:/♊/g;
	$msg =~ s/:cancer:/♋/g;
	$msg =~ s/:leo:/♌/g;
	$msg =~ s/:virgo:/♍/g;
	$msg =~ s/:libra:/♎/g;
	$msg =~ s/:scorpius:/♏/g;
	$msg =~ s/:sagittarius:/♐/g;
	$msg =~ s/:capricorn:/♑/g;
	$msg =~ s/:aquarius:/♒/g;
	$msg =~ s/:pisces:/♓/g;
	$msg =~ s/:ophiuchus:/⛎/g;
	$msg =~ s/:six_pointed_star:/🔯/g;
	$msg =~ s/:atm:/🏧/g;
	$msg =~ s/:chart:/💹/g;
	$msg =~ s/:heavy_dollar_sign:/💲/g;
	$msg =~ s/:currency_exchange:/💱/g;
	$msg =~ s/:x:/❌/g;
	$msg =~ s/:exclamation:/❗/g;
	$msg =~ s/:heavy_exclamation_mark:/❗/g;
	$msg =~ s/:question:/❓/g;
	$msg =~ s/:grey_exclamation:/❕/g;
	$msg =~ s/:grey_question:/❔/g;
	$msg =~ s/:o:/⭕/g;
	$msg =~ s/:top:/🔝/g;
	$msg =~ s/:end:/🔚/g;
	$msg =~ s/:back:/🔙/g;
	$msg =~ s/:on:/🔛/g;
	$msg =~ s/:soon:/🔜/g;
	$msg =~ s/:arrows_clockwise:/🔃/g;
	$msg =~ s/:clock12:/🕛/g;
	$msg =~ s/:clock1230:/🕧/g;
	$msg =~ s/:clock1:/🕐/g;
	$msg =~ s/:clock130:/🕜/g;
	$msg =~ s/:clock2:/🕑/g;
	$msg =~ s/:clock230:/🕝/g;
	$msg =~ s/:clock3:/🕒/g;
	$msg =~ s/:clock330:/🕞/g;
	$msg =~ s/:clock4:/🕓/g;
	$msg =~ s/:clock430:/🕟/g;
	$msg =~ s/:clock5:/🕔/g;
	$msg =~ s/:clock530:/🕠/g;
	$msg =~ s/:clock6:/🕕/g;
	$msg =~ s/:clock7:/🕖/g;
	$msg =~ s/:clock8:/🕗/g;
	$msg =~ s/:clock9:/🕘/g;
	$msg =~ s/:clock10:/🕙/g;
	$msg =~ s/:clock11:/🕚/g;
	$msg =~ s/:clock630:/🕡/g;
	$msg =~ s/:clock730:/🕢/g;
	$msg =~ s/:clock830:/🕣/g;
	$msg =~ s/:clock930:/🕤/g;
	$msg =~ s/:clock1030:/🕥/g;
	$msg =~ s/:clock1130:/🕦/g;
	$msg =~ s/:heavy_plus_sign:/➕/g;
	$msg =~ s/:heavy_minus_sign:/➖/g;
	$msg =~ s/:heavy_division_sign:/➗/g;
	$msg =~ s/:white_flower:/💮/g;
	$msg =~ s/:100:/💯/g;
	$msg =~ s/:radio_button:/🔘/g;
	$msg =~ s/:link:/🔗/g;
	$msg =~ s/:curly_loop:/➰/g;
	$msg =~ s/:trident:/🔱/g;
	$msg =~ s/:black_medium_small_square:/◾/g;
	$msg =~ s/:white_medium_small_square:/◽/g;
	$msg =~ s/:small_red_triangle:/🔺/g;
	$msg =~ s/:black_square_button:/🔲/g;
	$msg =~ s/:white_square_button:/🔳/g;
	$msg =~ s/:black_circle:/⚫/g;
	$msg =~ s/:white_circle:/⚪/g;
	$msg =~ s/:red_circle:/🔴/g;
	$msg =~ s/:large_blue_circle:/🔵/g;
	$msg =~ s/:small_red_triangle_down:/🔻/g;
	$msg =~ s/:white_large_square:/⬜/g;
	$msg =~ s/:black_large_square:/⬛/g;
	$msg =~ s/:large_orange_diamond:/🔶/g;
	$msg =~ s/:large_blue_diamond:/🔷/g;
	$msg =~ s/:small_orange_diamond:/🔸/g;
	$msg =~ s/:small_blue_diamond:/🔹/g;

	return $msg	
}

# Register events for incoming messages/actions.
Irssi::signal_add_last("message public",         "event_input_msg");
Irssi::signal_add_last("message private",        "event_input_msg");
Irssi::signal_add_last("message own_public",     "event_input_msg");
Irssi::signal_add_last("message own_private",    "event_input_msg");
#Irssi::signal_add_last("event privmsg",			 "event_privmsg")

